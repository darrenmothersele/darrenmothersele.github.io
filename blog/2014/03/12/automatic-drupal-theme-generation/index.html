<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Death of the Drupal Themer | Darren Mothersele</title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body class="bg-grey-lightest text-black">

<header class="py-4 overflow-hidden flex justify-center items-center border-b">
  <div class="flex-1 border-r h-8 skew-right grad-right"></div>
  <a class="no-outline" href="/">
    <svg id="logo" class="h-8 mx-8" viewBox="0 0 1140 400" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M60,300l60,100l-120,0l60,-100Z" style="fill:#b35738;"/><path d="M120,200l60,100l-120,0l60,-100Z" style="fill:#cf7038;"/><path d="M180,100l60,100l-120,0l60,-100Z" style="fill:#c46f3c;"/><path d="M240,0l60,100l-120,0l60,-100Z" style="fill:#d5a246;"/><path d="M360,0l60,100l-120,0l60,-100Z" style="fill:#ddc55e;"/><path d="M480,0l60,100l-120,0l60,-100Z" style="fill:#d8c571;"/><path d="M420,100l60,100l-120,0l60,-100Z" style="fill:#d5b74c;"/><path d="M180,300l60,100l-120,0l60,-100Z" style="fill:#da7535;"/><path d="M300,300l60,100l-120,0l60,-100Z" style="fill:#dd8d3d;"/><path d="M360,200l60,100l-120,0l60,-100Z" style="fill:#dda446;"/><path d="M420,300l60,100l-120,0l60,-100Z" style="fill:#826c85;"/><path d="M480,200l60,100l-120,0l60,-100Z" style="fill:#b8415b;"/><path d="M540,100l60,100l-120,0l60,-100Z" style="fill:#db3846;"/><path d="M600,0l60,100l-120,0l60,-100Z" style="fill:#e65041;"/><path d="M660,100l60,100l-120,0l60,-100Z" style="fill:#e92d41;"/><path d="M540,300l60,100l-120,0l60,-100Z" style="fill:#ce5772;"/><path d="M660,300l60,100l-120,0l60,-100Z" style="fill:#e7536b;"/><path d="M720,200l60,100l-120,0l60,-100Z" style="fill:#da2451;"/><path d="M780,300l60,100l-120,0l60,-100Z" style="fill:#c74a62;"/><path d="M840,200l60,100l-120,0l60,-100Z" style="fill:#02aeb0;"/><path d="M900,300l60,100l-120,0l60,-100Z" style="fill:#08a4a5;"/><path d="M960,400l60,-100l-120,0l60,100Z" style="fill:#0a969f;"/><path d="M840,400l60,-100l-120,0l60,100Z" style="fill:#05a9a9;"/><path d="M720,400l60,-100l-120,0l60,100Z" style="fill:#e62e4f;"/><path d="M600,400l60,-100l-120,0l60,100Z" style="fill:#e23a57;"/><path d="M480,400l60,-100l-120,0l60,100Z" style="fill:#a7506b;"/><path d="M240,400l60,-100l-120,0l60,100Z" style="fill:#dc8b3a;"/><path d="M360,400l60,-100l-120,0l60,100Z" style="fill:#dd9442;"/><path d="M120,400l60,-100l-120,0l60,100Z" style="fill:#cf6636;"/><path d="M180,300l60,-100l-120,0l60,100Z" style="fill:#d6883c;"/><path d="M240,200l60,-100l-120,0l60,100Z" style="fill:#d08a42;"/><path d="M300,100l60,-100l-120,0l60,100Z" style="fill:#ddbb49;"/><path d="M420,100l60,-100l-120,0l60,100Z" style="fill:#d1bd56;"/><path d="M480,200l60,-100l-120,0l60,100Z" style="fill:#d6bf61;"/><path d="M420,300l60,-100l-120,0l60,100Z" style="fill:#d9af48;"/><path d="M540,300l60,-100l-120,0l60,100Z" style="fill:#d1354f;"/><path d="M600,200l60,-100l-120,0l60,100Z" style="fill:#e53843;"/><path d="M660,300l60,-100l-120,0l60,100Z" style="fill:#d80b2c;"/><path d="M780,100l60,-100l-120,0l60,100Z" style="fill:#128c83;"/><path d="M900,100l60,-100l-120,0l60,100Z" style="fill:#12617a;"/><path d="M960,200l60,-100l-120,0l60,100Z" style="fill:#09889a;"/><path d="M900,300l60,-100l-120,0l60,100Z" style="fill:#03a4ae;"/><path d="M1080,400l60,-100l-120,0l60,100Z" style="fill:#107a8e;"/><path d="M1020,300l60,100l-120,0l60,-100Z" style="fill:#0d8b96;"/><path d="M900,100l60,100l-120,0l60,-100Z" style="fill:#04a1a9;"/><path d="M960,0l60,100l-120,0l60,-100Z" style="fill:#125776;"/><path d="M840,0l60,100l-120,0l60,-100Z" style="fill:#0d8088;"/><path d="M720,0l60,100l-120,0l60,-100Z" style="fill:#169b8c;"/></svg>
  </a>
  <div class="flex-1 border-l h-8 skew-left grad-left"></div>
</header>

<div id="me">
  <div class="py-8 flex justify-center items-center">
    <div class="border rounded-full p-1">
      <img class="rounded-full block" width="100" height="100"
           src="/images/darren100.jpg">
    </div>
  </div>

  <div class="text-center">

    <h1 class="text-2xl">Darren Mothersele</h1>

    <p>Software Developer</p>

  </div>
</div>

<div id="page" class="my-8 font-serif leading-normal">
  <div>
  <p class="border-4 border-red p-8 bg-red-light m-8 text-white">
    <b>Warning:</b> You are viewing old, legacy content.
    Kept for posterity.
    Information is out of date.
    Code samples probably don't work.
    My opinions have probably changed.
    Browse at your own risk.
  </p>
</div>


<div class="m-8">
  <h1>Death of the Drupal Themer</h1>
  
  <p>Mar 12, 2014</p>
  
  
  <p class="text-sm uppercase">web-dev</p>
  
</div>



<div class="m-8 legacy-content font-serif">
  <p>At Drupal Camp London 2013 <a href="https://twitter.com/mcjim">James Panton</a> presented
a methodology for implementing designs in Drupal without resorting to custom
theme development. At this years Drupal Camp I pulled together two BoF
(Birds of a Feather) sessions to continue the conversation and discuss
prototyping designs, atomic design, and
challenges of incorporating design activities into development workflow.</p>

<p>In recent posts I’ve talked about
<a href="http://www.darrenmothersele.com/blog/2014/02/06/from-prototype-to-drupal-theme/">prototyping</a>
and a bit about
<a href="http://darrenmothersele.com/blog/2014/02/07/from-prototype-to-drupal-theme-2/">using Jekyll for prototyping</a>.
In many ways this discussion is a continuation of those ideas, but also
much more general in it’s scope, and more wide-reaching in it’s potential.</p>

<!--break-->

<p>##Death of the Themer?</p>

<p>I’ve become interested in this area after recently facing challenges bringing
design activities into the development workflow of an agile project. But first, for
some context, let me explain where this all began…</p>

<p>Last year, Jim presented a methodology for implementing designs in Drupal
without having to do any custom theme development.</p>

<p>First, Drupal is stripped of all it’s markup. Jim presented to a packed
room at Drupal Camp London, and received a big whooping
round of applause when he showed naked Drupal markup. Perhaps indicating the
general level of frustration the developers/themers have from battling with
Drupal markup. Also, there’s a general preconception that Drupal suffers very badly
from “Divitis”, “Classitis” and “Span-mania”. This demo showed that this need
not be the case.</p>

<p>Next, markup is added back in bit by bit to match the markup in the flat
HTML/CSS design. This means that the eventual markup produced by Drupal should
exactly (or almost!) match what the designer originally intended. The rendered
HTML is therefore cured of it’s divitis (contains much less bloat),
works with the CSS styles from the design with little or no tweaking, and
can make use semantic HTML5 tags.</p>

<p>The tools used to reset Drupal default markup include:
<a href="https://drupal.org/project/semanticviews">Semanic Views</a>,
<a href="https://drupal.org/project/ds">Display Suite</a>,
<a href="https://drupal.org/project/panels">Panels</a>,
and a fork of <a href="https://drupal.org/project/semantic_panels">Semantic Panels</a>
that I can’t seem to find a reference for.
<a href="https://drupal.org/project/fences">Fences</a> can also be useful, although
functionality to override field wrappers is also part of Display Suite.</p>

<p>One of the main benefits of this approach is that it allows designers and
Front-end developers to work freely, using whatever tools they want, and
without consideration for any of Drupal’s (perceived) limitations. There have
been lots of really cool developments in front-end, including CSS and HTML
preprocessors, and the multitude of CSS and JS frameworks. This approach allows
designers, front end developers, UXs, and IAs to take advantage of all of these tools
when prototyping sites.</p>

<p>During the BoF sessions at this year’s Drupal Camp London a few limitations and
disadvantages were discussed. This methodology moves the implementation of
design from development (writing code) to configuration. This can become quite
repetitive as each individual bit of output has to be configured with appropriate
resets and the correct wrappers to build up the markup.</p>

<p>##Custom Plugins?</p>

<p>In the BoF sessions I presented a methodology that I had been playing with,
inspired by Death of a Themer, whereby designs are implemented
in a similar way, without the need for a custom theme. Drupal markup is taken
to a “full reset” state, and then just the required markup is introduced
through various plugins.</p>

<p>This differs from the original methodology as it does not use configuration
to add wrappers back in to fields, view modes, views, panels, etc. Instead,
the markup is taken from the prototype (flat HTML and CSS) and copied into
“plugins”. Various plugins are used:</p>

<ul>
  <li>Display Suite plugins to add markup to content/entities in various view modes.</li>
  <li>Views styles to output list markup</li>
  <li>Panel’s style plugins to add “box” markup, and,</li>
  <li>Panel’s layout plugins to add layout markup.</li>
</ul>

<p>The result is the same markup as the flat prototype, and the same result
as with the original Death of a Themer approach, but with much less configuration
required.</p>

<p>The real big win for this approach, is that the components of the design are
reusable across various content types and sections of the site without
having to repeatedly configure each occurrence.</p>

<p>Building out these plugins for every bit of a design might seem like over-kill
and more work than is really necessary, but it is a much more scalable way of theming
as you end up with design components that can be reused across the site.</p>

<p>This version of “Death of a Themer” means the Themer is replaced with a developer,
rather than a site-builder, as the emphasis moves away from configuration towards
writing custom plugins in code.  However, I think a lot of the grunt work can
be automated, as I’ll explain in a bit.</p>

<p>##Atomic Design</p>

<p>I saw parallels between this approach (of reusable theme components) and the
emerging trend of <a href="http://bradfrostweb.com/blog/post/atomic-web-design/">atomic design</a>.
In fact, I think atomic design is more than
just a current trend but a real leap forward in design methodology.</p>

<blockquote>
  <p>We’re not designing pages, we’re designing systems of components. <br />
 – <a href="http://bradfrostweb.com/blog/mobile/bdconf-stephen-hay-presents-responsive-design-workflow/">Stephen Hay</a></p>
</blockquote>

<p>While producing an atomic design the designer is effectively breaking down the
design into components. This is exactly what a good themer does when they take a design
and decide how to implement it as a Drupal theme.</p>

<p>##From Design to Theme</p>

<p>When a designer hands over a design (let’s assume static HTML and CSS) the
developer (or themer, or site-builder) has to make several decisions about
how this will be implemented.</p>

<ul>
  <li>Assumptions are made and things get “lost in translation”</li>
  <li>Compromises are made due to limitations in implementation (i.e. limitations of the CMS, content model, etc)</li>
  <li>Markup is augmented to add in extra properties like RDFa, etc</li>
</ul>

<p>##Agile</p>

<p>There shouldn’t really be a “handover” of design. The style guide / atomic design
or static mockup that is the result of prototyping should evolve as the product
evolves.</p>

<p>If something comes up that needs design we go back to the static HTML/CSS to
implement it. If using atomic design, this means adding any required “atoms”,
“molecules”, etc.</p>

<p>If changes have been made as a design is implemented these need to be flowed
back upstream to the style guide so that further development of the design can
happen, and then (some of) the conversion process is repeated to bring across
new design elements into the theme/templates.</p>

<p>This process can be hard to manage and bring duplication of effort into
the process.</p>

<p>If we can automate some of the steps involved in going from static HTML and CSS
to Drupal theme then we can move towards a more agile, and robust design-dev
workflow.</p>

<p>##Proof of concept</p>

<p>Automatically generating a Drupal theme from either a style guide, atomic design,
pattern library, static mockup, prototype (or whatever you want to call it!)
might sound like a crazy idea, but I’ve got a working proof of concept.</p>

<p>I decided to start from just pure HTML/CSS. After experimenting with static
site generators (HTML preprocessors), and CSS preprocessors like
SASS, I decided that it was best to take pure HTML/CSS as the starting point.
This works because every design eventually ends up as HTML/CSS. It’s the
language of the web, so it’s unavoidable. It means designers can use
any combination of tools they like, as long as they produce HTML/CSS as the
end result.</p>

<p>As an example, I’m using Jekyll to compile the static mockup, and Compass
to compile the CSS, but this could be any combination of tools, or just
hand-crafted HTML and CSS.</p>

<p>The next stage is to add annotations into the source of the HTML to
identify and describe each of the design “components”.</p>

<p>I don’t have any terminology yet. Drupal has it’s own jargon, as does
SMACSS, Atomic Design, OOCSS, KSS, etc.  I’m not sure what to call
things. I’m tending towards a combination of Atomic Design and Drupal
terminology, but this will change.</p>

<p>##Annotations</p>

<p>There has been some discussion in the design community about
<a href="https://www.youtube.com/watch?v=ROaXVB-bbek">Pattern Library Annotations</a>
documentation, etc.</p>

<p>I want to use annotations in designs so that they can be automatically
parsed and converted.</p>

<p>In this proof of concept, annotations in the HTML source code map directly to
the appropriate Drupal templates and plugins.</p>

<p>I’m using the <code class="highlighter-rouge">x-</code> prefix for my custom attributes. This mechanism is intended for use
in vendor prefixing for vendor specific attributes. It distinguishes them nicely from
<code class="highlighter-rouge">data-</code> custom attributes, results in valid HTML5, and therefore I think it’s an
acceptable abuse of the feature.</p>

<p>For example, annotate a certain part of the source code as being responsible
for layout and it will be automatically compiled into a Panels Layout Plugin:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;div x-drupal-type="layout" x-drupal-name="front_page" x-drupal-label="Front page" x-drupal-no-wrap&gt;
   &lt;div class="container"&gt;
     &lt;div class="row"&gt;
     &lt;div class="span8" x-drupal-region x-drupal-name="content"&gt;
     ...
     &lt;/div&gt;
     &lt;div class="span4" x-drupal-region x-drupal-name="sidebar"&gt;
     ...
     &lt;/div&gt;
   &lt;/div&gt;
  &lt;/div&gt;
 &lt;/div&gt;
</code></pre></div></div>

<p>Another example, this is content shown in a particular preview style called “Box”.
It maps to a Drupal view mode:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;div class="box" x-drupal-type="display" x-drupal-name="box_teaser" x-drupal-label="Box teaser"&gt;
  &lt;img src="" width="100" height="100" alt="" x-drupal-region x-drupal-name="image" x-drupal-no-wrap&gt;
  &lt;h6 x-drupal-region x-drupal-name="title"&gt;Easy to use&lt;/h6&gt;
  &lt;p x-drupal-region x-drupal-name="summary" x-drupal-no-wrap&gt;
    To get started, you select the desired sample and base the entire website on it. It’s that simple!
  &lt;/p&gt;
&lt;/div&gt;
</code></pre></div></div>

<p>Many other attributes are identified and the system currently supports
panels layouts, panels styles, views styles, display suite (view mode templates),
menus (kinda), and image styles.</p>

<p>During the compilation process the various components are identified and
the appropriate plugins are created. Any required static files, such as
CSS and JS are copied across. Any content in the various regions is removed
from the markup, and the generated plugins therefore only contain the markup
to wrap the various parts of Drupal output.</p>

<p>You can see the (very!) rough proof-of-concept here:
<a href="https://github.com/darrenmothersele/hyde">https://github.com/darrenmothersele/hyde</a></p>

<p>You really shouldn’t try using this yet, but if you insist, install the
modules on a Drupal site with Display Suite, Panels, etc,
then enable both modules, and configure to point at the folder with your
HTML/CSS design. Then click the “Sync” button to parse your design files and create
and register the appropriate plugins based on the design.</p>

<p>Warning: You are probably better off waiting for the next version or some
actual documentation!</p>

<p>##Rather see it in action?</p>

<p>If you would rather see it in action, then come along to the next
<a href="http://www.meetup.com/drupal-show-and-tell/events/168733432/">Drupal Show and Tell</a>
where I’ll be demonstrating the early version of the theme generator and asking for feedback!</p>



</div>

</div>

<nav class="bg-grey-darker p-8 text-center text-sm">
  <ul class="list-reset">
    <li class="mx-2 inline-block">
      <a class="text-grey-lighter no-underline hover:underline" href="/about">About</a>
    </li>
    <li class="mx-2 inline-block text-grey-lighter">&#9679;</li>
    <li class="mx-2 inline-block">
      <a class="text-grey-lighter no-underline hover:underline" href="/contact">Contact</a>
    </li>
    <li class="mx-2 inline-block text-grey-lighter">&#9679;</li>
    <li class="mx-2 inline-block">
      <a class="text-grey-lighter no-underline hover:underline" href="https://medium.com/@dazcyril">Stuff I've written on Medium</a>
    </li>
    <li class="mx-2 inline-block text-grey-lighter">&#9679;</li>
    <li class="mx-2 inline-block">
      <a class="text-grey-lighter no-underline hover:underline" href="/blog">My old blog content</a>
    </li>
  </ul>
</nav>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
<script src="/js/scripts.js"></script>
</body>
</html>
