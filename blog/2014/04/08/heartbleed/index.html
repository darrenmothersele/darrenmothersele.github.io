<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Heartbleed | Darren Mothersele</title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>

<div class="home-logo">
  <a href="/">
<img src="/img/daz-logo.png" alt="Daz Logo" class="home-logo-img">
</a>
</div>

<hgroup class="alignCenter">
  <h1>Heartbleed</h1>
        <h6>Apr 8, 2014 · By Darren Mothersele</h6>
  <p class="sc">devops</p>
</hgroup>
<p>A <a href="http://heartbleed.com/">serious bug in OpenSSL</a> was disclosed last night.
I just happened to check
<a href="https://news.ycombinator.com/item?id=7548991">Hacker News</a> late last night,
about 2 hours after it had been posted.</p>

<p>Luckily, by this time Ubuntu had released updated packages for OpenSSL, and
as most of the servers under my control are running Ubuntu Server, I could
easily patch them to remove the vulnerability. The fix for RedHad seemed to
take a little bit longer to arrive, but it’s
<a href="https://access.redhat.com/site/solutions/781793">here now</a>.</p>

<p>Patching the vulnerability is just the first step, there’s a lot more work to
do to recover from this bug…</p>

<!--break-->

<p>###Check OpenSSL version</p>

<p>You need to be running <strong>OpenSSL 1.0.1g</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>openssl version
</code></pre>
</div>

<p>Just running this command doesn’t report back full version information.
If you check <a href="http://serverfault.com/questions/587324/heartbleed-how-to-reliably-and-portably-check-the-openssl-version">this post</a> you will find further information on what to look for.</p>

<p>If you are on Ubuntu 12.04 the package you are looking for is this one:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>openssl 1.0.1-4ubuntu5.12
</code></pre>
</div>

<p>###Further recovery…</p>

<p>But, patching OpenSSL is only a small part of the fix for this bug.
The consequences of this are much deeper.</p>

<blockquote>
  <p>The Heartbleed bug allows anyone on the Internet to read the memory of
the systems protected by the vulnerable versions of the OpenSSL software.</p>
  <ul>
    <li><a href="http://heartbleed.com/">Heartbleed</a></li>
  </ul>
</blockquote>

<p>This essentially means that encryption keys, user credentials, and any
content handled by the servers could have been exposed. So the following
steps are required (see <a href="http://security.stackexchange.com/questions/55075/does-heartbleed-mean-new-certificates-for-every-ssl-server">this post</a>):</p>

<ul>
  <li>Revocation of the old keypairs that were just superseded</li>
  <li>Changing all passwords</li>
  <li>Invalidating all session keys and cookies</li>
  <li>Evaluating the actual content handled by the vulnerable servers that could have been leaked, and reacting accordingly.</li>
  <li>Evaluating any other information that could have been revealed, like memory addresses and security measures</li>
</ul>

<p>###Leaves no trace…</p>

<p>It’s also worth noting that exploiting the vulnerability leaves no trace, so
there is no way to know if your system, encryption keys, passwords or content
has been compromised.</p>

<p>It’s worth doing a general password reset anyway.</p>

<p>Final note, it’s worth pointing out that this doesn’t affect OpenSSH, just OpenSSL,
as OpenSSH doesn’t include the broken TLS implementation.</p>




<div class="author-line">

  <figure class="author-image">
    <img src="/img/darren100.jpg" alt="Darren's Photo" class="avatar">
  </figure>

<h4>Darren Mothersele</h4>
<p>Darren is a software developer who builds simple, creative, and independent technology. <a href="/about">Read more &raquo;</a></p>
</div>




<footer>
  <p>Want to support my work? Buy my <a href="/blog/2016/06/16/php-framework-weekend/">PHP Framework</a> book.
  Available in paperback from <a href="http://amzn.to/2bNv560">Amazon</a> or eBook from <a href="https://leanpub.com/phpframework">Leanpub</a>.</p>
  <p>
    <small>
      &copy;2007-2017 <a href="/about">Darren Mothersele</a>.
        <a class="text-white" href="http://creativecommons.org/licenses/by-sa/4.0/">Some rights reserved</a>.
        <a href="/contact">Contact</a>.
        <a href="/blog/">Blog Archive</a>.
    </small>
  </p>
</footer>
</body>
</html>
